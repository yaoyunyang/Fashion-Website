<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link type="text/css" rel="stylesheet" href="wishes.css">
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    <script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
</head>

<body>
    <h1 class="title">把最美的回忆 最好的祝福 都藏在话语中 制造一个比夏天更炙热的梦
    </h1>

    <div id="app" class="container">
        <card id="hxl" data-image="https://fashion13.oss-cn-beijing.aliyuncs.com/wishes/1.jpg">
            <h1 slot="header">黄筱璐</h1>
            <p slot="content">舞社时光, 历历在目, 没想到一眨眼你们就要毕业了, 在这里真诚地感谢每个Fashion的学姐学长对我的悉心关照和指导. 希望可爱的学姐学长们不论走到哪里, 都能想起在舞社的快乐时光和跳舞时的那份纯真(笔芯)！我会一直想你们的！！</p>
        </card>
        <card id="sny" data-image="https://fashion13.oss-cn-beijing.aliyuncs.com/wishes/2.jpg">
            <h1 slot="header">苏宁洋</h1>
            <p slot="content">大学里最快乐的时光就是跟你们一起跳舞了吧. 从刚开始的懵懂无知，到后来一起上台演出, 这段成长感谢有你们相伴. 在体育馆挥洒汗水的日子, 在原汁味吃夜宵的日子, 出去一起浪的日子, 考试周一起复习的日子……本以为和你们在一起的时间还有很多, 没想到转眼就已面临分别. 祝愿学长学姐们毕业后可以找到自己的一片天地. </p>
        </card>
        <card id="dc" data-image="https://fashion13.oss-cn-beijing.aliyuncs.com/wishes/3.jpg">
            <h1 slot="header">邓聪</h1>
            <p slot="content">各位毕了业出去闯荡的学长学姐, 常回家带带团训, 家里有群嗷嗷待哺的小孩子等你们回来玩！</p>
        </card>
        <card id="shy" data-image="https://fashion13.oss-cn-beijing.aliyuncs.com/wishes/4.jpg">
            <h1 slot="header">石浩阳</h1>
            <p slot="content">一转眼就到了毕业季, 很遗憾没能陪你们拍一次毕业照, 办一次专场, 吃一顿散伙饭, 甚至没能好好道个别......但我相信来日方长, 我们定会再相遇. 感谢你们在社团的这几年, 也感谢Fashion让我遇见了你们！</p>
        </card>
        <card id="dxh" data-image="https://fashion13.oss-cn-beijing.aliyuncs.com/wishes/7.jpg">
            <h1 slot="header">丁祥鸿</h1>
            <p slot="content">不禁感叹时间过得真快, 明明初见的场景还在眼前, 现在却要与你们分别. 感谢两年以来的帮助和陪伴. 你们在舞社留下的美好回忆, 让我们来为你们保存; 你们没有来得及完成的愿望, 让我们替你们实现. 毕业快乐, 学长学姐们, 这一别, 祝你们一帆风顺, 前程似锦.</p>
        </card>
        <card data-image="https://fashion13.oss-cn-beijing.aliyuncs.com/wishes/6.jpg">
            <h1 slot="header">Lakes</h1>
            <p slot="content">Lorem ipsum dolor sit amet, consectetur adipisicing elit.</p>
        </card>
        <card data-image="https://fashion13.oss-cn-beijing.aliyuncs.com/wishes/5.jpg">
            <h1 slot="header">Lakes</h1>
            <p slot="content">Lorem ipsum dolor sit amet, consectetur adipisicing elit.</p>
        </card>
        <card data-image="https://fashion13.oss-cn-beijing.aliyuncs.com/wishes/8.jpg">
            <h1 slot="header">Lakes</h1>
            <p slot="content">Lorem ipsum dolor sit amet, consectetur adipisicing elit.</p>
        </card>
    </div>
    <a class="to-btn" href="/camera/camera.html">to camera</a>
    <script>
        Vue.config.devtools = true;
        Vue.component('card', {
            template: `
    <div class="card-wrap" @mousemove="handleMouseMove" @mouseenter="handleMouseEnter" @mouseleave="handleMouseLeave" ref="card">
        <div class="card" :style="cardStyle">
            <div class="card-bg" :style="[cardBgTransform, cardBgImage]"></div>
            <div class="card-info">
                <slot name="header"></slot>
                <slot name="content"></slot>
            </div>
        </div>
    </div>`,
            mounted() {
                this.width = this.$refs.card.offsetWidth;
                this.height = this.$refs.card.offsetHeight;
                console.log(this.$refs.card);
            },
            props: ['dataImage'],
            data: () => ({
                width: 0,
                height: 0,
                mouseX: 0,
                mouseY: 0,
                mouseLeaveDelay: null
            }),
            computed: {
                mousePX() {
                    return this.mouseX / this.width;
                },
                mousePY() {
                    return this.mouseY / this.height;
                },
                cardStyle() {
                    const rX = this.mousePX * 30;
                    const rY = this.mousePY * -30;
                    return {
                        transform: `rotateY(${rX}deg) rotateX(${rY}deg)`
                    };
                },
                cardBgTransform() {
                    const tX = this.mousePX * -40;
                    const tY = this.mousePY * -40;
                    return {
                        transform: `translateX(${tX}px) translateY(${tY}px)`
                    };
                },
                cardBgImage() {
                    return {
                        backgroundImage: `url(${this.dataImage})`
                    };
                }
            },
            methods: {
                handleMouseMove(e) {
                    this.mouseX = e.pageX - this.$refs.card.offsetLeft - this.width / 2;
                    this.mouseY = e.pageY - this.$refs.card.offsetTop - this.height / 2;
                },
                handleMouseEnter() {
                    clearTimeout(this.mouseLeaveDelay);
                },
                handleMouseLeave() {
                    this.mouseLeaveDelay = setTimeout(() => {
                        this.mouseX = 0;
                        this.mouseY = 0;
                    }, 1000);
                }
            }
        });
        const app = new Vue({
            el: '#app'
        });
    </script>

</body>

</html>